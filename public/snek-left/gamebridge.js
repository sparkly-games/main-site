(()=>{"use strict";var __webpack_modules__={973:(e,t,o)=>{o.d(t,{Vi:()=>a,Zj:()=>n,jE:()=>s,oh:()=>r});const n="https://sdk.enjoy4fun.com",r="1.80.12",a="pro",s="aHR0cHM6Ly9hcGkuZ2FtZWJyaWRnZS5nYW1lcy9nYW1lYnJpZGdlL3Yx"},898:(e,t,o)=>{o.d(t,{Bv:()=>s,Hn:()=>n,fN:()=>a,h8:()=>i,iE:()=>r,sL:()=>d});const n="gamebridge-sdk-core",r="gamebridge-tmp",a="gamebridge",s="gamebridge-sdk",i="gamebridge-game-id",d="gameSdkConfig"},144:(e,t,o)=>{var n=o(677),r=o(311),a=o(973),s=o(898);const i=!(0,n.Os)().isGameApp,d=(e,t)=>fetch(e,{method:"GET",credentials:t?"omit":"include",keepalive:i}).then((e=>{try{const t=e.headers.get("Content-Type");return t&&-1!==t.indexOf("json")?e.json():e}catch(t){return e}})),c=async()=>new Promise((e=>{const t=(0,r.Gt)();let o;const i=sessionStorage.getItem(s.sL);o=i?JSON.parse(i):{};let c=o[t];if(c)e(c);else try{d(`${(0,n.ck)(a.jE)}/config?game_id=${t}`).then((n=>{c=n.data||{},o[t]=c,sessionStorage.setItem(s.sL,JSON.stringify(o)),e(c)}))}catch(t){console.error("get ECPM error"),e({})}}));let _,p,l,g={};const u=(e,t,o)=>{(0,n.dK)(["pk",e,!0===t?"useAd":""]),o&&(0,r.gv)("game_event",{event_category:"pk",event_label:e,value:0})};window.PokiSDK=new class{init(){return(()=>{if("develop"!==a.Vi)return;if(document.querySelector("#videoContainer"))return;const e=document.createElement("div");e.id="videoContainer",e.setAttribute("style","position: absolute;bottom: 0;right: 0;width: 300px;height: 300px;"),e.innerHTML='<video style="width: 100%"></video>',document.body.append(e)})(),new Promise((e=>e()))}get ready(){return(0,r.RH)().ready}isAdBlocked(){return(0,r.ZO)()}initWithVideoHB(){u("initWithVideoHB",!1,!0)}customEvent(){u("initWithVideoHB",!1,!0)}commercialBreak(e){return u("commercialBreak",!0,!0),(0,n.mf)(e)&&e(),new Promise((e=>{(0,r.RH)().showBrowse((t=>{"viewed"===t.breakStatus?e(!0):e(!1)}))}))}rewardedBreak(){return u("rewardedBreak",!0,!0),new Promise((e=>{(0,r.RH)().showReward((function(){e(!0)}),(function(){e(!1)}),(function(t){"viewed"===t.breakStatus?e(!0):e(!1)}))}))}displayAd(e,t){(async()=>{})(),u("displayAd",!0,!0)}destroyAd(e){u("destroyAd")}getLeaderboard(){u("getLeaderboard",!0,!0),(0,r.RH)().showPause()}getSharableURL(){return u("getSharableURL",!1,!0),new Promise((e=>e()))}gameLoadingStart(){u("gameLoadingStart",!0,!0),(0,r.RH)().showPreroll((()=>{}))}gameLoadingFinished(){(0,r.k_)("game-loaded"),u("gameLoadingFinished",!1,!0)}gameInteractive(){u("gameInteractive",!0,!0),(0,r.RH)().showPause()}roundStart(){u("roundStart",!0,!0),(0,r.RH)().showBrowse()}roundEnd(){u("roundEnd",!0,!0),(0,r.RH)().showBrowse()}muteAd(){u("muteAd",!0,!0),(0,r.RH)().showBrowse()}setDebug(){u("setDebug")}gameplayStart(e){(async(e,t)=>{const o=document.querySelector("canvas"),n=(await c()).video_config||{};p=Date.now();const r="video/webm;codecs=h264";return new Promise(((e,a)=>{if(o)if(_)a();else if(0!==n.enable)if(MediaRecorder.isTypeSupported(r)){g={level:t,happyTimeList:[]};try{const t=o.captureStream(30);_=new MediaRecorder(t,{mimeType:r});const n=[];_.ondataavailable=function(e){e.data&&e.data.size&&n.push(e.data)},_.onstop=()=>{e(n)},_.start()}catch(e){a()}}else a();else a();else a()}))})(0,e).then((e=>{(e=>{if("develop"!==a.Vi)return;const t=URL.createObjectURL(new Blob(e,{type:"video/mp4;codecs=h264"})),o=document.querySelector("#videoContainer"),n=o.querySelector("video");o.style.display="block",n.src=t,n.play()})(e),(async e=>{const{video_config:t={}}=await c(),o=(l-p)/1e3;if(o<t.min_record_time)return;const{level:s=1,success:i=1,stars:_=0,happyTimeList:u=[]}=g||{},m=(0,r.Gt)(),w=await((e,t)=>d(`${(0,n.ck)(a.jE)}/video/${e}/pre_upload_video?level=${t}`))(m,s);if(!w)return;const{video_id:h}=w;if(!h)return;const b=new FormData,y=new Blob(e,{type:"video/mp4;codecs=h264"});b.append("file",y),b.append("video_size",y.size.toString()),b.append("level",s.toString()),b.append("level_success",i.toString()),b.append("level_time",o.toFixed()),b.append("level_stars",_.toString()),b.append("happy_time",u.join(",")),await((e,t,o)=>fetch(`${(0,n.ck)(a.jE)}/video/${e}/${t}/upload_video`,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer",body:o}))(m,h,b)})(e)})).catch((()=>{})),u("gameplayStart",!1,!0)}gameplayStop(e,t){((e,t)=>{l=Date.now(),_&&(_.stop(),_=null,g.success=e,g.stars=t)})(e,t),u("gameplayStop",!1,!0)}gameLoadingProgress(e){}happyTime(e){_&&g.happyTimeList.push(((Date.now()-p)/1e3).toFixed()),u("happyTime",!1,!0),(0,r.k_)("happy-time")}setPlayerAge(e){u("setPlayerAge",!1,!0)}togglePlayerAdvertisingConsent(){u("togglePlayerAdvertisingConsent")}toggleNonPersonalized(){u("toggleNonPersonalized")}setConsentString(){u("setConsentString")}logError(){u("logError")}sendHighscore(){u("sendHighscore")}setDebugTouchOverlayController(){u("setDebugTouchOverlayControllers")}shareableURL(){return new Promise((e=>{e(null)}))}}},970:(e,t,o)=>{var n=o(973),r=o(898),a=o(311);const s=[];window.__SDK_HREF=n.Zj,(0,a.ax)(),function(){const e=document.querySelector(`#${r.Bv}`),t=e.parentNode,o=document.createElement("script"),a=e.getAttribute("data-version")||n.oh;o.id=r.Hn,o.async=!0,o.src=`${window.__SDK_HREF}/sdk-${a}.js`,o.type="text/javascript",function(e){const t=["showAd","showPreroll","showStart","showPause","showNext","showBrowse","showReward"];if(!window[r.fN]){const o={version:e,ready:!1};t.forEach((e=>{o[e]=function(){s.push({fn:e,arguments})}})),window[r.fN]=o}}(a),["data-gameid","data-ad-frequency","data-test"].forEach((t=>{e.getAttribute(t)&&"data-version"!==t&&o.setAttribute(t,e.getAttribute(t))})),o.onload=()=>{const e=setInterval((()=>{window[r.iE]&&window[r.iE].adsScriptLoaded&&window.adsTag.ready&&(window.clearInterval(e),window[r.fN]=window[r.iE],delete window[r.iE],s.length&&s.forEach((e=>{window[r.fN][e.fn](...e.arguments)})))}),100)},t&&t.lastChild?t.lastChild===e?t.appendChild(o):t.insertBefore(o,e.nextSibling):document.head.appendChild(o)}()},311:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Gt:()=>getGameId,RH:()=>getSDKForWindow,ZO:()=>isAdBlocked,ax:()=>setGameId,gv:()=>sendGTM,k_:()=>postMessageToTop});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(898);const insertHomeIcon=()=>{const e=document.createElement("style");e.innerHTML="\n\t\t.game-bridge-home{\n\t\t\twidth: 50px;\n\t\t\theight: 50px;\n\t\t\ttext-align: center;\n\t\t\tbackground: #fff;\n\t\t\tbox-shadow: 0px 1px 0px 1px #CADBFB;\n\t\t\tborder-radius: 12px;\n\t\t\tposition: fixed;\n\t\t\tleft: 10px;\n\t\t\ttop: 10px;\n\t\t\tz-index: 99999;\n\t\t\tborder: 1px solid #CADBFB;\n\t\t\tcursor: pointer;\n\t\t\topacity: .7;\n\t\t}\n\t\t.game-bridge-home svg{\n\t\t\tmargin-top: 10px;\n\t\t\twidth: 30px;\n\t\t\theight: 30px;\n\t\t}\n\t\t.game-bridge-home:hover{\n\t\t\topacity: 1;\n\t\t}\n\t",document.body.appendChild(e);const t=document.createElement("div");t.className="game-bridge-home",t.onclick=()=>{openPage(parseBase64(HOME_HREF))},t.title="GameBridge",t.innerHTML='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="icon_home">\n<path id="Vector" d="M24 0H0V24H24V0Z" fill="white" fill-opacity="0.27"/>\n<g id="Union">\n<path d="M9.78945 14.2254C8.99705 14.2254 8.35468 14.8677 8.35468 15.6601C8.35468 16.4525 8.99705 17.0949 9.78945 17.0949H13.6062C14.3986 17.0949 15.041 16.4525 15.041 15.6601C15.041 14.8677 14.3986 14.2254 13.6062 14.2254H9.78945Z" fill="#FF73A9"/>\n<path d="M11.1037 2.3144C11.6277 1.8952 12.3723 1.8952 12.8963 2.3144L22.4615 9.96654C23.0802 10.4616 23.1806 11.3644 22.6855 11.9832C22.1905 12.602 21.2876 12.7023 20.6689 12.2073L20.6087 12.1591V20.6152C20.609 20.6275 20.6091 20.6398 20.6091 20.6521C20.6091 21.4445 19.9667 22.0869 19.1743 22.0869H4.82659C4.03418 22.0869 3.39135 21.4445 3.39135 20.6521V12.1591L3.33113 12.2073C2.71236 12.7023 1.80947 12.602 1.31446 11.9832C0.819446 11.3644 0.919767 10.4616 1.53853 9.96654L11.1037 2.3144ZM17.7391 9.86347L12 5.27218L6.2609 9.86347V19.2173H17.7391V9.86347Z" fill="#FF73A9"/>\n</g>\n</g>\n</svg>\n',document.body.appendChild(t)},getGameId=()=>window[_constants__WEBPACK_IMPORTED_MODULE_0__.h8],setGameId=()=>{window[_constants__WEBPACK_IMPORTED_MODULE_0__.h8]=document.querySelector(`#${_constants__WEBPACK_IMPORTED_MODULE_0__.Bv}`).getAttribute("data-gameid")||""},postMessageToTop=e=>{if(window.top===window)return;window.gbLoadedState||(window.gbLoadedState={"ads-loaded":!1,"game-loaded":!1});const t=window.gbLoadedState;"ads-loaded"===e||"game-loaded"===e?(t[e]=!0,t["ads-loaded"]&&t["game-loaded"]&&window.top.postMessage("sdk-loaded",document.referrer)):window.top.postMessage(e,document.referrer)},getSDKForWindow=()=>window[_constants__WEBPACK_IMPORTED_MODULE_0__.fN],OPEN_O="o",OPEN_P="p",OPEN_E="e",OPEN_N="n",openPage=str=>eval(OPEN_O+OPEN_P+OPEN_E+OPEN_N)(str),isAdBlocked=()=>window[_constants__WEBPACK_IMPORTED_MODULE_0__.fN].adsScriptFailed,checkArrowKey=e=>-1!==[27,28,29,30].indexOf(e-10);let gamePauseState=!1;const gamePause=(e,t)=>{sdkLog(["gamePause"]);let o=0;switch(t){case"gpt":case"vast":case"afg":o=500}if("preroll"===e)return;let{pause:n}=window.GAME_BRIDGE_CONFIG||{};n=n||window.gamebridge_pause,setTimeout((()=>{isFunction(n)&&(n(e,t),gamePauseState=!0)}),o)},gameResume=(e,t)=>{if(sdkLog(["gameResume"]),!gamePauseState)return;let{resume:o}=window.GAME_BRIDGE_CONFIG||{};o=o||window.gamebridge_resume,isFunction(o)&&(o(e,t),gamePauseState=!1)},sendGTM=(e,t)=>{window.adsTag=window.adsTag||{cmd:[]},window.adsTag.cmd.push((()=>{window.adsTag.sendGTM(e,t)}))},checkWhitelist=()=>{let e;return e=window.top===window?window.location.href:document.referrer,WHITELIST.some((t=>e&&-1!==e.indexOf(parseBase64(t))))}},677:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Os:()=>getSystem,ck:()=>parseBase64,dK:()=>sdkLog,mf:()=>isFunction});const type=e=>({"[object String]":"string","[object Number]":"number","[object Object]":"object","[object Function]":"function"}[Object.prototype.toString.call(e)]),isNumber=e=>"number"===type(e),isString=e=>"string"===type(e),isFunction=e=>"function"===type(e),isObject=e=>"object"===type(e),toFormData=e=>e.replace(/^\?/,"").split("&").reduce(((e,t)=>{let[o,n=""]=t.split("=");return Object.assign(Object.assign({},e),{[o]:n})}),{});let system;const getSystem=()=>{if(system)return system;const e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),o=/(?:SymbianOS)/.test(e)||t,n=/(?:Android)/.test(e),r=/(?:Firefox)/.test(e),a=/(?:iPad|PlayBook)/.test(e)||n&&!/(?:Mobile)/.test(e)||r&&/(?:Tablet)/.test(e),s=/(?:iPhone)/.test(e)&&!a,i=/(?:GameApp)/.test(e),d=/(?:GameNativeAd)/.test(e),c=/(?:MiuiBrowser)/.test(e)||/(?:HeyTapBrowser)/.test(e)||/(?:SogouSearch)/.test(e);return system={isTablet:a,isPhone:s,isAndroid:n,isGameApp:i,isNativeAdGameApp:d,isXiaoMiModel:c,supportFullscreen:window.document.exitFullscreen&&!i&&!c,isPC:!(s||n||o||a||i)},system},checkIsMobile=()=>{const e=getSystem();return!e.isPC&&!e.isTablet},BASE_A="a",BASE_T="t",BASE_O="o",BASE_B="b",parseBase64=str=>eval(BASE_A+BASE_T+BASE_O+BASE_B)(str),isDebug=()=>{try{return"true"===localStorage.getItem("sdk-yeah")}catch(e){return!1}},sdkLog=(e,t)=>{try{if(!isDebug()&&3!==t)return;let o;o=2===t?console.warn:3===t?console.error:console.log,3===t?o("[SDK debug]",...e):o(`[SDK debug ${performance.now().toFixed()}ms]`,...e)}catch(e){}},getUUID=()=>{let e=Date.now();return isObject(performance)&&isFunction(performance.now)&&(e+=performance.now()),"xxxxxxxx-xxxx-beesads-xxxx-xxxxxxxxxxxx".replace(/[x]/g,(function(t){const o=(e+16*MathRandom())%16|0;return e=MathFloor(e/16),("x"===t?o:3&o|8).toString(16)}))},getPerformanceNow=()=>performance.now().toFixed(),getMobileAdsWidthStatus=(e,t)=>checkIsMobile()&&e&&e>0&&t&&t>0&&e<1.5*t,getDOM=(e,t)=>(t||(t=document),t.querySelector(e)),getDOMById=(e,t)=>getDOM(`#${e}`,t),getDOMByClass=(e,t)=>getDOM(`.${e}`,t),createDOM=e=>document.createElement(e),appendChild=(e,t)=>{t.appendChild(e)},appendToHead=e=>{appendChild(e,document.head)},appendToBody=e=>{appendChild(e,document.body)},appendScriptToHead=(e,t,o,n,r)=>{const a=createDOM("script");a.async=!0,a.src=e,isObject(r)&&Object.keys(r).forEach((e=>{a[e]=r[e]})),t&&(a.id=t),a.onload=()=>{isFunction(o)&&o()},a.onerror=()=>{isFunction(n)&&n()},appendToHead(a)},poseMessageToParent=e=>{parent.postMessage(e,document.referrer)},MathFloor=e=>Math.floor(e),MathRandom=()=>Math.random(),getHref=()=>location.href,adsTagCmdPush=e=>{window.adsTag.cmd.push(e)},bindEvent=(e,t,o)=>{window.addEventListener(e,t,o)},unbindEvent=(e,t)=>{window.removeEventListener("type",t)},_encodeURIComponent=e=>encodeURIComponent(e),_decodeURIComponent=e=>decodeURIComponent(e),setSessionStorage=(e,t)=>{sessionStorage.setItem(e,t)},getSessionStorage=e=>sessionStorage.getItem(e),setLocalStorage=(e,t)=>{localStorage.setItem(e,t)},getLocalStorage=e=>localStorage.getItem(e),jsonParse=e=>JSON.parse(e),jsonStringify=e=>{try{return JSON.stringify(e)}catch(t){sdkLog(["JSON.stringify error",e],3)}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var o=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](o,o.exports,__webpack_require__),o.exports}__webpack_require__.d=(e,t)=>{for(var o in t)__webpack_require__.o(t,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};__webpack_require__(970),__webpack_require__(144),window.GameBridgeSDK=window.PokiSDK})();